"use strict";!function(e){function t(e){var t=e.name,o=e.hoverTimeout,n=e.customLoadingBackground;if(x)throw new Error("Library already initialized");x=!0,S=s(),r(t),a(o),l(n),m(),g()}function o(){q=!0}function n(){q=!1}function r(e){if(!e)throw new Error("Name not specified");L=e}function i(){return L}function a(e){if(S)T=500,console.log("Touch device. hoverTimeout value ignored.");else{if(isNaN(e))throw new Error("hoverTimeout should have a numerical value");T=e}}function c(){return T}function l(e){var t=document.createElement("div");if(t.style.backgroundImage=e,t.style.backgroundImage&&!e)throw new Error("Invalid value for customLoadingBackground. Must be a possible value for CSS backgroundImage property");E=e,f()}function u(){return E}function d(){return S}function s(){return e.hasOwnProperty("ontouchstart")}function m(){var e=document.createDocumentFragment(),t=document.createElement("div");t.classList.add("tft_iframe_wrapper");var o=document.createElement("iframe");t.appendChild(o),e.appendChild(t),document.querySelector("body").appendChild(e),f()}function f(){var e=document.querySelector(".tft_iframe_wrapper");if(e)if(E){var t=e.querySelector(".loader");t&&t.remove(),e.style.backgroundImage=E}else{e.style.backgroundImage="";var o=document.createElement("div");o.classList.add("loader"),e.appendChild(o)}}function g(){function t(){_openLink=!1,Q=0,k=void 0,clearTimeout(w)}var o=this;S?!function(){console.log("addding listener");var n=!1;e.addEventListener("click",function(e){console.log("click"),e.target.classList.contains(L)?(e.target!==k&&(Q=0,k=e.target,clearTimeout(w)),n?(console.log("called by open link"),t.call(o)):(Q++,1==Q&&(w=setTimeout(function(){k&&(console.log(Q),Q>=3&&q?(v(),t()):(console.log("not enough clicks opening link"),n=!0,k.click()))},T)),e.preventDefault())):t.call(o)})}():(console.log("adding desktop listener"),e.addEventListener("mousemove",function(e){e.target.classList.contains(L)?!k&&q&&(k=e.target,w=setTimeout(function(){k&&k.classList.contains(L)&&v()},T)):(k=void 0,clearTimeout(w))}));var n=document.querySelector("body");n.addEventListener("click",p)}function v(){var e=k.getBoundingClientRect(),t=h(e),o=t.xQuadrant,n=t.yQuadrant,r=y({xQuadrant:o,yQuadrant:n,positionBox:e});r.src=k.getAttribute("href"),b(r)}function p(e){var t=document.querySelector("body"),o=document.querySelector(".tft_iframe_wrapper"),n=o.querySelector("iframe");o.classList.remove("show"),o.style.left="",o.style.top="",n.setAttribute("src",""),t.classList.remove("noscroll")}function h(t){var o=t.left,n=t.top;console.log(o,n);var r=e.innerWidth/2-.1*e.innerWidth,i=e.innerWidth/2+.1*e.innerWidth,a=o<r?0:o<i?1:2,c=n<e.innerHeight/2?0:1;return console.log("xQuadrant: "+a+", yQuadrant : "+c),{xQuadrant:a,yQuadrant:c}}function y(t){var o=t.xQuadrant,n=t.yQuadrant,r=t.positionBox,i=void 0,a=void 0,c=void 0,l=void 0;return 0===o?(c=r.left+"px",l=""):1===o?(c=r.left-.7*e.innerWidth/2+r.width/2+"px",l=""):2===o&&(c="",l=e.innerWidth-r.right+"px"),n?(i="",a=e.innerHeight-r.top+10+"px"):(i=r.top+r.height+10+"px",a=""),console.log("top: "+i+" bottom : "+a),console.log("left : "+c+" right : "+l),{top:i,right:l,bottom:a,left:c}}function b(e){var t=e.top,o=e.bottom,n=e.left,r=e.right,i=e.src,a=document.querySelector("body"),c=document.querySelector(".tft_iframe_wrapper"),l=c.querySelector("iframe");a.classList.add("noscroll"),c.classList.add("show"),c.style.top=t,c.style.bottom=o,c.style.left=n,c.style.right=r,l.setAttribute("src",i)}var k=void 0,w=void 0,L=void 0,x=void 0,S=void 0,T=2e3,E=void 0,q=!0,Q=0,_={init:t,enable:o,disable:n,setName:r,getName:i,getHoverTimeout:c,setHoverTimeout:a,getCustomLoadingBackground:u,setCustomLoadingBackground:l,getIsMobileDevice:d};e.threeFingerTap=_}(window);